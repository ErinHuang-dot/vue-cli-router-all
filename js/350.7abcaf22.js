"use strict";(self["webpackChunkrouter"]=self["webpackChunkrouter"]||[]).push([[350],{4350:function(t,s,i){i.r(s),i.d(s,{default:function(){return I}});var a=i(6252),e=i(3577),n=i(9963);const o={class:"container"},l=(0,a._)("h2",{class:"my-4"},"購物車列表",-1),d={class:"mt-4 mb-5"},c={class:"table align-middle"},r=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col",class:""},"圖片"),(0,a._)("th",{scope:"col",class:""},"商品名稱"),(0,a._)("th",{scope:"col"},"價格"),(0,a._)("th",{scope:"col",class:""})])],-1),u={class:"w-25"},p=["src","alt"],h={key:0},g={key:1},b=(0,a._)("br",null,null,-1),_={class:"fs-5"},m={class:"btn-group",role:"group"},w=["onClick","disabled"],v=["onClick","disabled"],k={class:"spinner-border spinner-border-sm"},y=(0,a.Uk)(" 加到購物車 ");function L(t,s,i,L,C,f){const D=(0,a.up)("loading");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(D,{active:C.isLoading},null,8,["active"]),l,(0,a._)("div",d,[(0,a._)("table",c,[r,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.products,(s=>((0,a.wg)(),(0,a.iD)("tr",{key:s.id},[(0,a._)("td",u,[(0,a._)("img",{class:"w-100",src:s.imageUrl,alt:s.title},null,8,p)]),(0,a._)("td",null,(0,e.zw)(s.title),1),(0,a._)("td",null,[s.origin_price===s.price?((0,a.wg)(),(0,a.iD)("div",h,(0,e.zw)(s.origin_price)+" 元 ",1)):((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("del",null,"原價 "+(0,e.zw)(s.origin_price)+" 元",1),b,(0,a._)("span",_,"現在只要 "+(0,e.zw)(s.price)+" 元",1)]))]),(0,a._)("td",null,[(0,a._)("div",m,[(0,a._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm border-end-0",onClick:i=>t.openProductModal(s.id),disabled:C.isLoadingItem===s.id}," 查看更多 ",8,w),(0,a._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:t=>f.addToCart(s.id),disabled:C.isLoadingItem===s.id},[(0,a.wy)((0,a._)("span",k,null,512),[[n.F8,C.isLoadingItem===s.id]]),y],8,v)])])])))),128))])])])])}var C={data(){return{products:{},cartData:{},isLoadingItem:"",isLoading:!1}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/v2/api/erinhuang-lab/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,this.products=t.data.products})).catch((t=>{console.dir(t),alert(`喔...${t}...，暫時無法取得商品資料，請稍候再試`)}))},addToCart(t,s=1){const i={product_id:t,qty:s};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/erinhuang-lab/cart",{data:i}).then((t=>{this.getCartData(),this.$refs.moreModal.closeModal(),this.isLoadingItem=""})).catch((t=>{window.alert(t.data.data.message)}))}},mounted(){this.getProducts()}},f=i(3744);const D=(0,f.Z)(C,[["render",L]]);var I=D}}]);
//# sourceMappingURL=350.7abcaf22.js.map