"use strict";(self["webpackChunkrouter"]=self["webpackChunkrouter"]||[]).push([[554],{7554:function(e,s,a){a.r(s),a.d(s,{default:function(){return C}});var l=a(6252),o=a(3577),r=a(6949);const t={id:"loginApp"},n={class:"container"},i={class:"wrap d-flex justify-content-center align-items-center"},d={class:""},u=(0,l._)("img",{class:"login-logo d-block mx-auto",src:r,alt:"logo"},null,-1),m=(0,l._)("h2",{class:"fs-3 text-center mb-4"},"請先登入",-1),c={class:"mb-5"},p={class:"form-floating mb-3"},f=(0,l._)("label",{for:"floatingEmail"},"Email address",-1),g={class:"form-floating mb-3"},b=(0,l._)("label",{for:"floatingPass"},"Password",-1),h=["onClick"],v=(0,l._)("p",{class:"text-muted text-center"},"© 2021~∞ - 六角學院",-1);function w(e,s,a,r,w,_){const k=(0,l.up)("Field"),x=(0,l.up)("error-message"),C=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("main",t,[(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",d,[u,m,(0,l.Wm)(C,{onSubmit:_.login},{default:(0,l.w5)((({errors:e,validate:a})=>[(0,l._)("div",c,[(0,l._)("div",p,[(0,l.Wm)(k,{type:"email",class:(0,o.C_)(["form-control",{"is-invalid":e["email"]}]),name:"email",rules:"required",modelValue:w.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>w.user.username=e),id:"floatingEmail",placeholder:"Email address"},null,8,["class","modelValue"]),f,(0,l.Wm)(x,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",g,[(0,l.Wm)(k,{type:"password",class:(0,o.C_)(["form-control",{"is-invalid":e["password"]}]),name:"password",rules:"required",modelValue:w.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>w.user.password=e),id:"floatingPass",placeholder:"Password"},null,8,["class","modelValue"]),b,(0,l.Wm)(x,{name:"password",class:"invalid-feedback"})]),(0,l._)("button",{type:"submit",class:"btn btn-primary w-100 fs-5 mb-3",onClick:e=>(_.login,a),id:"btnLogin"}," 登入 ",8,h)])])),_:1},8,["onSubmit"]),v])])])])}var _={data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{const{token:s,expired:a}=e.data;document.cookie=`userToken=${s}; expires=${new Date(a)}GMT;`,alert(`${e.data.message}，即將進入後臺管理頁面`),this.$router.push("/admin/products")})).catch((e=>{alert(`${e.response.data.message}，請重新輸入一次`),console.dir(e)}))}}},k=a(3744);const x=(0,k.Z)(_,[["render",w]]);var C=x}}]);
//# sourceMappingURL=554.5774ded3.js.map